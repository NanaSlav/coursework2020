<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>
<div th:insert="common/navbar :: head"></div>

<div class="w3-container main-small">
    <div class="w3-display-container">
        <h1 class="w3-text-theme-dark">Tasks</h1>
    </div>
    <hr>
    <div th:each="task : ${tasks}">
        <a th:href="@{'/tasks/task/' + ${task.getId()}}" class="w3-text-theme-dark w3-large" style="text-decoration: none;">
            <div class="w3-container w3-card w3-margin">
                <h3 th:text="${task.getName()}" class="w3-text-theme-dark"></h3>
                <div th:if="${task.getDescription().length() > 256}">
                    <p th:text="${task.getDescription().substring(0, 256)} + '...'" class="w3-text-theme-dark"></p>
                </div>
                <div th:if="${task.getDescription().length() <= 256}">
                    <p th:text="${task.getDescription()}" class="w3-text-theme-dark"></p>
                </div>
            </div>
        </a>
    </div>
    <div th:if="${tasks.isEmpty()}">
        <div class="w3-display-middle">
            <img src="/img/empty2.jpg" style="width: 20vw" class="w3-margin">
            <p class="w3-text-theme w3-xlarge" style="margin-left: 4vw">You have no tasks yet</p>
        </div>
    </div>
    <div th:if="${!tasks.isEmpty()}">
        <div th:insert="common/pagination :: pages" class="w3-margin"></div>
    </div>
</div>
</body>
</html>